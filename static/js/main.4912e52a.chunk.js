(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(63),l=a.n(o),c=a(3),i=a(27),s=a.n(i),u=a(64),d=a(16),m=a.n(d),g=a(15),f=a.n(g),v="937378615319-ismhml4chkkd9let2k6su6o40ip43lor.apps.googleusercontent.com",E="AIzaSyAAoo9d_gRLhkrbqzdstpsGQ7W93namgeI",h="https://www.googleapis.com/auth/calendar.events",p=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],b="YYYY-MM-DDTHH:mm:ss.SSSZ";function w(){return gapi.auth2.getAuthInstance().signIn()}function O(){return gapi.auth2.getAuthInstance().signOut()}var y,N=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&\/\/=]*)/,T=(navigator&&navigator.languages&&navigator.languages[0]||"en-US").split("-")[0];function S(e){return e[T]||e.en}!function(e){e.RU="ru",e.EN="en"}(y||(y={}));var C=a(2),I=Array(24).fill(0).map(function(e,t){return t}),A={TODAY:S({en:"Today",ru:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),TOMORROW:S({en:"Tomorrow",ru:"\u0417\u0430\u0432\u0442\u0440\u0430"}),TWO:S({en:"In two days",ru:"\u0427\u0435\u0440\u0435\u0437 \u0434\u0432\u0430 \u0434\u043d\u044f"}),WEEK:S({en:"In a week",ru:"\u0427\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e"}),MONTH:S({en:"In a month",ru:"\u0427\u0435\u0440\u0435\u0437 \u043c\u0435\u0441\u044f\u0446"}),YEAR:S({en:"In a year",ru:"\u0427\u0435\u0440\u0435\u0437 \u0433\u043e\u0434"}),SUCCESS:S({en:"Saved to Calendar!",ru:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c!"}),FAIL:S({en:"Something went wrong :(",ru:"\u0423\u043f\u0441, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("}),ENTER:S({en:"Enter a title",ru:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),SELECT_DATE:S({en:"Pick a day:",ru:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u043d\u044c:"}),SELECT_TIME:S({en:"Pick a time:",ru:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f:"}),SAVE:S({en:"Save",ru:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})},k=[{text:A.TODAY,value:function(){return Object(C.startOfToday)()}},{text:A.TOMORROW,value:function(){return Object(C.startOfTomorrow)()}},{text:A.TWO,value:function(){return Object(C.addDays)(Object(C.startOfToday)(),2)}},{text:A.WEEK,value:function(){return Object(C.addWeeks)(Object(C.startOfToday)(),1)}},{text:A.MONTH,value:function(){return Object(C.addMonths)(Object(C.startOfToday)(),1)}},{text:A.YEAR,value:function(){return Object(C.addYears)(Object(C.startOfToday)(),1)}}];function j(e){var t=r.a.useState(""),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(""),i=Object(c.a)(l,2),s=i[0],u=i[1],d=r.a.useState(""),g=Object(c.a)(d,2),v=g[0],E=g[1],h=r.a.useState(Math.min(23,Object(C.getHours)(new Date)+2)),p=Object(c.a)(h,2),w=p[0],O=p[1],y=r.a.useState(Object(C.startOfToday)()),T=Object(c.a)(y,2),S=T[0],j=T[1],L=e.title||n,R=e.more||"",_=R&&R.match(N);r.a.useEffect(function(){setTimeout(function(){return E("")},3e3)},[v]);var M=e.title?r.a.createElement("p",null,r.a.createElement("strong",null,e.title)):r.a.createElement("input",{className:"input",value:n,placeholder:A.ENTER,onChange:function(e){return o(e.target.value)}}),x=R&&_?r.a.createElement("a",{href:R,target:"_blank",rel:"noopener noreferrer"},R):R?r.a.createElement("p",null,R):null;return r.a.createElement("div",{className:"hero is-fullheight"},r.a.createElement("div",{className:"section",style:{height:"30vh"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"field"},s?r.a.createElement("div",{className:"notification is-warning"},s):v?r.a.createElement("div",{className:"notification is-success"},v):r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"field"},M),r.a.createElement("div",{className:"field"},x))))),r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"day-select",className:"label"},A.SELECT_DATE),r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"Day",id:"day-select",onChange:function(e){return j(Object(C.parse)(e.target.value))}},k.map(function(e){var t=e.text,a=e.value;return r.a.createElement("option",{key:t,value:a().toISOString()},t)})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"time-input",className:"label"},A.SELECT_TIME),r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"time-input",value:w,onChange:function(e){return O(parseInt(e.target.value))}},I.map(function(e){return r.a.createElement("option",{key:e,value:e},"".concat(e,":00"))})))))),r.a.createElement("footer",{className:"hero-foot"},r.a.createElement("div",{className:"section container has-text-centered"},r.a.createElement("button",{className:"button is-primary",disabled:!L,onClick:function(){return function(e,t,a){return console.log(e,t,a),gapi.client.calendar.events.insert({calendarId:"primary",resource:{summary:e,description:t,start:{dateTime:m()(a,b)},end:{dateTime:m()(f()(a,1),b)}}})}(L,R,Object(C.setHours)(S,w)).then(function(){window.history.replaceState(null,"","/"),E(A.SUCCESS)}).catch(function(){u(A.FAIL)})}},A.SAVE))))}var L={TIP:S({en:"Now open the <strong>Share</strong> dialog in any of your apps and select <strong>Save&nbsp;to&nbsp;Calendar</strong>.",ru:"\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c <strong>Save&nbsp;to&nbsp;Calendar</strong> \u0432 \u043c\u0435\u043d\u044e <strong>\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f</strong>  \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0432 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c."}),LOG_OUT:S({en:"Log out of Google Calendar",ru:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c Google Calendar"})};function R(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body container has-text-centered"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:L.TIP}})),r.a.createElement("div",{className:"hero-foot container"},r.a.createElement("section",{className:"section"},r.a.createElement("button",{className:"button is-big",onClick:O},L.LOG_OUT)))))}var _={PROMO:S({en:"This will install <strong>Save to Calendar</strong>, a new and awesome way to save content for later.",ru:'\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 <strong>Save to Calendar</strong>, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0441\u0442\u0430\u0442\u044c\u0438 "\u043d\u0430 \u043f\u043e\u0442\u043e\u043c" \u0432 \u0432\u0430\u0448 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c.'}),TITLE:S({en:"Save to Calendar",ru:"Save to Calendar"}),NOW:S({en:"Now try it out!",ru:"\u041f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c! \ud83c\udf89"}),CHROME:S({en:"Get Google Chrome",ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Google Chrome"}),CHROME_TIP:S({en:"(opening this site in Google Chrome might help if you are on Android)",ru:"(\u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0430 \u0430\u043d\u0434\u0440\u043e\u0438\u0434\u0435, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google Chrome)"}),ALREADY:S({en:"Looks like we don't yet support your device. Or maybe you already have <strong>Save to Calendar</strong> installed, check your apps menu.",ru:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043c\u044b \u043f\u043e\u043a\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0432\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e, \ud83d\ude2d \u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0432\u044b \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 <strong>Save to Calendar</strong> - \u043f\u043e\u0438\u0449\u0438\u0442\u0435 \u0441\u0440\u0435\u0434\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439. \ud83e\udd37\u200d"}),GET:S({en:"Get it!",ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})};function M(e){var t=e.wasInstalled,a=e.installEvent;return r.a.createElement("section",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"field"},t&&r.a.createElement("p",null,_.NOW),!t&&a&&r.a.createElement("p",{dangerouslySetInnerHTML:{__html:_.PROMO}}),!t&&!a&&r.a.createElement("p",{dangerouslySetInnerHTML:{__html:_.ALREADY}})),!t&&a&&r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-big is-primary",disabled:!a,onClick:function(){return a&&a.prompt()}},_.GET)),!t&&!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"has-text-grey"},_.CHROME_TIP)),r.a.createElement("div",{className:"field"},r.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.android.chrome",rel:"noopener noreferrer",target:"_blank",className:"button is-big"},_.CHROME))))))}var x={CAUTION:S({en:"(for adding events only)",ru:"(\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442, \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f)"}),LOG_OUT:S({en:"Log in with Google Calendar",ru:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google Calendar"})};function G(){return r.a.createElement("section",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-big is-primary",onClick:w},x.LOG_OUT)),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"has-text-grey"},x.CAUTION)))))}var W=function(){var e,t=matchMedia("(display-mode: standalone)").matches,a=r.a.useState(null),n=Object(c.a)(a,2),o=n[0],l=n[1],i=r.a.useState(!1),d=Object(c.a)(i,2),m=d[0],g=d[1],f=r.a.useState(null),b=Object(c.a)(f,2),w=b[0],O=b[1];r.a.useEffect(function(){window.addEventListener("beforeinstallprompt",function(e){O(e)})},[]),r.a.useEffect(function(){window.addEventListener("appinstalled",function(){return g(!0)})},[]),r.a.useEffect((e=l,function(){var t=document.createElement("script");t.src="https://apis.google.com/js/api.js?onload=onGapiLoad",window.onGapiLoad=function(){gapi.load("client:auth2",Object(u.a)(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gapi.client.init({apiKey:E,clientId:v,discoveryDocs:p,scope:h});case 2:gapi.auth2.getAuthInstance().isSignedIn.listen(e),a=gapi.auth2.getAuthInstance().isSignedIn.get(),e(a);case 5:case"end":return t.stop()}},t)})))},document.body.appendChild(t)}),[]);var y=function(){var e=new URL(window.location.href).searchParams,t=e.get("title")||"",a=e.get("url")||e.get("text")||"",n=a&&a.match(N);return a&&n&&n.length>0?{title:t||a.replace(n[0],"").trim(),more:n[0]}:{title:t,more:a}}(),T=y.title,S=y.more;return t?null===o?null:!1===o?r.a.createElement(G,null):T||S?r.a.createElement(j,{title:T,more:S}):r.a.createElement(R,null):r.a.createElement(M,{wasInstalled:m,installEvent:w})},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(173),a(174);l.a.render(n.createElement(W,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/save-to-calendar",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/save-to-calendar","/service-worker.js");U?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):H(t,e)})}}()},65:function(e,t,a){e.exports=a(175)}},[[65,1,2]]]);
//# sourceMappingURL=main.4912e52a.chunk.js.map